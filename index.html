<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/main.css">
</head>
<body>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/102/three.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.1.2/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.7.5/dat.gui.min.js"></script>
    <script src="https://s3.amazonaws.com/coursetro/stuff/obj.js"></script>
    <script src="https://s3.amazonaws.com/coursetro/stuff/mtl.js"></script> 
    

    <script>


         var controls = {
           influence:0
       };

        var scene = new THREE.Scene();

        var camera = new THREE.PerspectiveCamera(75,window.innerWidth/window.innerHeight,0.1,1000)
        camera.position.z = 25;

        var renderer = new THREE.WebGLRenderer({antialias: true, aplha:true});
        renderer.setClearColor("#e5e5e5");
        renderer.setSize(window.innerWidth,window.innerHeight);

        document.body.appendChild(renderer.domElement);

        window.addEventListener('resize', () => {
            renderer.setSize(window.innerWidth,window.innerHeight);
            camera.aspect = window.innerWidth / innerHeight;

            camera.updateProjectionMatrix();
        } )
        
        var raycaster = new THREE.Raycaster();
        var mouse = new THREE.Vector2();

        

        var light = new THREE.AmbientLight(0xFFFFFF, .4,)
        scene.add(light);

        var light = new THREE.PointLight(0xFFFFFF, .5, 1000)
        light.position.set(0,0,25);
        scene.add(light);
    

        
      
       var controls = {
           influence:0
       };

       //var material1 = new THREE.MTLLoader();
       //material1.load('V1.mtl', function (materials){
           

        //materials.preload();

        var obj1 = new THREE.OBJLoader();
       // obj1.setMaterials(materials);
        obj1.load('mesh1.obj', function (morphfrom){
                  
            morphfrom.position.x -= 0;
            morphfrom.position.z -= -10;
            morphfrom.position.y -= 6;
            morphfrom.rotation.y = 2;

            //scene.add(morphfrom);

        var obj2= new THREE.OBJLoader();
        //obj2.setMaterials(materials);
        obj2.load('mesh 5.obj', function (morphto){
                   
            morphto.position.x -= 0;
            morphto.position.z -= -10;
            morphto.position.y -= 6;
            morphto.rotation.y = 2;  
            
            //morphto.morphTargets[0] = morphfrom;
            //morphto.computeMorphNormals();

            scene.add(morphto);
            scene.add(morphfrom);

            var morphtomaterial = new THREE.MeshLambertMaterial({

                color: 0xff0000,
                morphTargets:true
            });

            

            var sonuc =  morphto;            
            scene.add(sonuc);
            


            

           // obj2.morphtargets[0] = obj1;
           // obj2.computeMorphNormals();

          

        });
        
      

        
    });

    
   
        //});

        var redraw = function(){

            sonuc.morphTargetInfluences [0] = controls.influence;
       }

       
var render = function(){
          

           requestAnimationFrame(render);
           renderer.render(scene, camera);
           
       }
       

       var gui = new dat.GUI();
       gui.add(controls, 'influence', 0, 1).onChange (render);



       //function onMouseMove(event) {
            //event.preventDefault();

            //mouse.x = ( event.clientX / window.innerWidth ) * 2 - 1;
           // mouse.y = - ( event.clientY / window.innerHeight ) * 2 + 1;

           // raycaster.setFromCamera(mouse, camera);

           // var intersects = raycaster.intersectObjects(scene.children, true);
          //  for (var i = 0; i < intersects.length; i++) {
           //     this.tl = new TimelineMax();
           //     this.tl.to(intersects[i].object.scale, .5, {x: 1.5,y: 1.5,z: 1.5, ease: Expo.easeOut})
           //     this.tl.to(intersects[i].object.scale, .5, {x: 1,y: 1,z: 1, ease: Expo.easeOut})
           // }
       // }
        
       // window.addEventListener('mousemove', onMouseMove);

       render();
       
        //var geometry = new THREE.SphereGeometry(1, 10, 10);
        //var material = new THREE.MeshLambertMaterial({color: 0xFFCC00});
        //var mesh = new THREE.Mesh(geometry,material);

        //scene.add(mesh);

        //var light = new THREE.PointLight( 0xffffff,1,500 );
        //light.position.set(10,0,25);
        //scene.add( light );

        //renderer.render(scene, camera);




    </script>
</body>
</html>